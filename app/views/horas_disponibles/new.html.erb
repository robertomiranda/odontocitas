<h1>New horas_disponible</h1>
<!--
<%= render 'form' %>
-->

<%= form_tag("/horas_disponibles" , :method => :post) do %>
	<div class="field">
		15<%= radio_button_tag 'tiempo_cita', "15", true, :class => "tiempo_cita tiempo15" %>
		30<%= radio_button_tag 'tiempo_cita', "30", true, :class => "tiempo_cita tiempo30" %>
		45<%= radio_button_tag 'tiempo_cita', "45", true, :class => "tiempo_cita tiempo45" %>
		60<%= radio_button_tag 'tiempo_cita', "60", true, :class => "tiempo_cita tiempo60" %>
	</div>

	<div class="field">
		&nbsp;&nbsp;<%= label_tag 'Fecha Inicio'  %> :
	    <input type="text" name="fecha_inicio" id="mini_calendario_inicio" >
	</div>
	<div class="field">
		 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hora <br>
    <%= select_tag 'hora_inicio' , 
     	"<option value ='1'>1</option>
     	<option value ='2'>2</option>
     	<option value ='3'>3</option>
     	<option value ='4'>4</option>
     	<option value ='5'>5</option>
     	<option value ='6'>6</option>
     	<option value ='7'>7</option>
     	<option value ='8'>8</option>
     	<option value ='9'>9</option>
     	<option value ='10'>10</option>
     	<option value ='11'>11</option>
     	<option value ='12'>12</option>".html_safe %>

     <%= select_tag 'minutos_inicio' ,
                "<option value ='0'>00</option>
     			      <option value ='15'>15</option>
     			      <option value ='30'>30</option>
     			      <option value ='45'>45</option>".html_safe %>

    <%= select_tag 'am_pm_inicio' , 
     	"<option value ='am'>am</option>
     	<option value ='pm'>pm</option>".html_safe %>

     	=>

     	 <%= select_tag 'hora_final' , 
  		"<option value ='1'>1</option>
     	<option value ='2'>2</option>
     	<option value ='3'>3</option>
     	<option value ='4'>4</option>
     	<option value ='5'>5</option>
     	<option value ='6'>6</option>
     	<option value ='7'>7</option>
     	<option value ='8'>8</option>
     	<option value ='9'>9</option>
     	<option value ='10'>10</option>
     	<option value ='11'>11</option>
     	<option value ='12'>12</option>".html_safe %>

     <%= select_tag 'minutos_final' ,
        "<option value ='0'>00</option>
     	<option value ='15'>15</option>
     	<option value ='30'>30</option>
     	<option value ='45'>45</option>".html_safe %>

    <%= select_tag 'am_pm_final' , 
     	"<option value ='am'>am</option>
     	<option value ='pm'>pm</option>".html_safe %>

	</div>
	<div class="field">
		<%= label_tag 'Se repite'  %> :
		<%= radio_button_tag 'se_repite', "no", true, :class => "se_repite_en_la_semana" %><%= label_tag 'No Se repite'  %> 
		<%= radio_button_tag 'se_repite', "si", true, :class => "se_repite_en_la_semana" %><%= label_tag 'Semanalmente'  %> :
	</div>
	<div class="se_repite_contenido">
			<div class="field">
				L <%= check_box_tag 'dias[]', '1' %> 
				M <%= check_box_tag 'dias[]', '2' %>
				M <%= check_box_tag 'dias[]', '3' %> 
				J <%= check_box_tag 'dias[]', '4' %> 
				V <%= check_box_tag 'dias[]', '5' %> 
				S <%= check_box_tag 'dias[]', '6' %> 
				D <%= check_box_tag 'dias[]', '0' %> 
			</div>

			<div class="field">
				&nbsp;&nbsp;<%= label_tag 'Fecha Final'  %> :
			    <input type="text" name="fecha_final" id="mini_calendario_final">
			</div>
	</div>


	<div class="field">
	    &nbsp;&nbsp;<%= label_tag 'Odontologo'  %> :
	    <%= text_field_tag 'odontologo_id' ,nil,:class=> 'registro_campo'%>
  	</div>

	<div class="actions centrar_registro_campos">
    	<%= submit_tag "Guardar",  :class => 'submit'%>
  	</div>


<% end %>


<%= link_to 'Calendario', odontologo_path('4') %>


<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

<script type="text/javascript">

  $(function(){
      $('#mini_calendario_inicio').datepicker({
        inline: true,
        firstDay: 1,
        showOtherMonths: true,
        dayNamesMin: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
        monthNames: [ "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Dicimbre" ] ,
        minDate: 0, // no permitir fechas antes de hoy
        onSelect : function(date) {
            /*//alert(date);

            var fecha = $( "#mini_calendario" ).datepicker( "getDate" );
            //console.log(fecha.getDate());
            calendario_dia.calcular_distacia(fecha.getDate());
            calendario_dia.cambio_dia(fecha);
            //console.log('dia '+fecha.getDate()):
            calendario_dia.citasPorFecha(fecha.getFullYear(),parseInt(fecha.getMonth())+1,fecha.getDate());*/
        }
      });

      $('#mini_calendario_final').datepicker({
        inline: true,
        firstDay: 1,
        showOtherMonths: true,
        dayNamesMin: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
        monthNames: [ "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Dicimbre" ] ,
        minDate: 0, // no permitir fechas antes de hoy
        onSelect : function(date) {
            /*//alert(date);

            var fecha = $( "#mini_calendario" ).datepicker( "getDate" );
            //console.log(fecha.getDate());
            calendario_dia.calcular_distacia(fecha.getDate());
            calendario_dia.cambio_dia(fecha);
            //console.log('dia '+fecha.getDate()):
            calendario_dia.citasPorFecha(fecha.getFullYear(),parseInt(fecha.getMonth())+1,fecha.getDate());*/
        }
      });


      $('.se_repite_en_la_semana').on('click',function(){
        if($('input:radio[name=si]').attr('checked')){

        }else{
          
        }
      });

  });


</script>
